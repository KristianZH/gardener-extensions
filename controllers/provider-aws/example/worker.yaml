---
apiVersion: v1
kind: Secret
metadata:
  name: cloudprovider
  namespace: default
type: Opaque
data:
  accessKeyID: <your-AWS-access-key-id>
  secretAccessKey: <your-AWS-secret-access-key>
---
apiVersion: extensions.gardener.cloud/v1alpha1
kind: Worker
metadata:
  name: worker
spec:
  type: aws
  region: eu-west-1
  secretRef:
    name: cloudprovider
    namespace: default
  infrastructureProviderStatus:
    apiVersion: aws.provider.extensions.gardener.cloud/v1alpha1
    kind: InfrastructureStatus
    ec2:
      keyName: my-shoot
    iam:
      instanceProfiles:
      - purpose: nodes
        name: nodes-my-shoot
      roles:
      - purpose: nodes
        arn: arn://my-shoot
    vpc:
      id: vpc-1234
      subnets:
      - purpose: nodes
        id: subnet-4567
        zone: eu-west-1a
      securityGroups:
      - purpose: nodes
        id: sg-35a44
  pools:
  - machineType: m4.large
    minimum: 1
    maximum: 1
    maxSurge: 1
    maxUnavailable: 0
    machineImage:
      name: coreos
      version: 1967.5.0
    userData: IyEvYmluL2Jhc2gKCmVjaG8gImhlbGxvIHdvcmxkIgo=
    volume:
      type: gp2
      size: 20Gi
    zones:
    - eu-west-1a
